/** Travel Destinations Plugin JS | Author: Parallelus | Website: http://para.llel.us */
jQuery(document).ready(function(t){t("#custom-post-query-submit").on("click",function(a){a.preventDefault();var e=t("#filter-by-date").val();document.location.href="edit.php?post_type=destination&page=destination-settings&tab=master-pages&m="+e})}),jQuery(document).ready(function(t){var a=[],e=[];t(".lang-alt-switcher").each(function(e){a.push(t(this).attr("data-alt"))}),t(".lang-alt-switcher-footer").each(function(a){e.push(t(this).val())}),t("li.menu-item-language").each(function(e){t(this).hasClass("menu-item-language-current")||(t(this).find("a").attr("href",t("#lang-alt-switcher-"+a[e]).val()),t("#lang-alt-switcher-"+a[e]).hasClass("lang-alt-switcher-del")&&t(this).remove())}),t("#lang_sel_footer li").each(function(a){t(this).find("a").attr("href",t("#lang-alt-switcher-"+e[a]).val()),t("#lang-alt-switcher-"+e[a]).hasClass("lang-alt-switcher-del")&&t(this).remove()})}),jQuery(document).ready(function(t){$catSelect=t("select[name='category_id']"),$catSelect.length&&($catSelect.change(function(){cat=t(this).val(),t(".travel-dir-rating").hide(),t(".travel-dir-"+cat).show()}),$catSelect.trigger("change"))}),jQuery(document).ready(function(t){function a(){v.each(function(){var a=t(this),e=o(a);if(!e)throw"Error: Each raterater element needs a unique data-id attribute.";var n=t(this).attr("data-id"),i="false"==p?t("#rating-"+n).val():t(this).parent().find('input[name="rating-types_'+n+'"]').val();t(this).attr("data-rating",i),u[e]={state:"inactive"},"static"===a.css("position")&&a.css("position","relative"),a.addClass("raterater-wrapper"),a.html(""),t.each(["bg","hover","rating","outline","cover"],function(){a.append(' <div class="raterater-layer raterater-'+this+'-layer"></div>')});for(var h="false"==p?t(this).parent().next().find(".rate-class").val():t(this).parent().find(".rate-class").val(),d="false"==p?t(this).parent().next().find(".rate-color").val():t(this).parent().find(".rate-color").val(),v=0;v<f.numStars;v++)a.children(".raterater-bg-layer").first().append('<i class="'+h+'"></i>'),a.children(".raterater-outline-layer").first().append('<i class="'+h+'"></i>'),a.children(".raterater-hover-layer").first().append('<i class="'+h+'"></i>'),a.children(".raterater-rating-layer").first().append('<i class="'+h+'"></i>');t(".raterater-hover-layer i."+h.substring(3)+", .raterater-rating-layer i."+h.substring(3)).css({color:d}),a.find(".raterater-cover-layer").hover(l,c),a.find(".raterater-cover-layer").mousemove(s),a.find(".raterater-cover-layer").click(r)})}function e(){v.each(function(){var a=t(this),e=(o(a),f.width+"px"),r=Math.floor(f.starWidth/f.starAspect)+"px";a.css("width",e).css("height",r),a.find(".raterater-layer").each(function(){t(this).css("width",e).css("height",r)});for(var n=0;n<f.numStars;n++)t.each(["bg","hover","rating","outline"],function(){a.children(".raterater-"+this+"-layer").first().children("i").eq(n).css("left",n*(f.starWidth+f.spaceWidth)+"px").css("font-size",Math.floor(f.starWidth/f.starAspect)+"px")});var s=parseFloat(a.attr("data-rating")),l=Math.floor(s),c=s-l;i(a.find(".raterater-rating-layer").first(),l,c)})}function r(a){var e=t(a.target).parent(),r=o(e),n=u[r].whole_stars_hover+u[r].partial_star_hover;n=Math.round(100*n)/100,u[r].state="rated",e.attr("data-rating",n),e.parent().next().find(".rate-manual-input").val(n),e.find(".raterater-hover-layer").addClass("rated"),"function"==typeof window[f.submitFunction]&&window[f.submitFunction](r,n)}function n(t,a){var e=Math.floor(t/(f.starWidth+f.spaceWidth)),r=t-e*(f.starWidth+f.spaceWidth);r>f.starWidth&&(r=f.starWidth),r/=f.starWidth,u[a].whole_stars_hover=e,u[a].partial_star_hover=r}function i(t,a,e){for(var r=(o(t.parent()),0);a>r;r++)t.find("i").eq(r).css("width",f.starWidth+"px");t.find("i").eq(a).css("width",f.starWidth*e+"px");for(var r=a+1;r<f.numStars;r++)t.find("i").eq(r).css("width","0px")}function s(a){var e=o(t(a.target).parent());if("hover"===u[e].state){var r=a.offsetX;void 0===r&&(r=a.pageX-t(a.target).offset().left),u[e].stars=n(r,e);var s=t(a.target).parent().children(".raterater-hover-layer").first();i(s,u[e].whole_stars_hover,u[e].partial_star_hover)}}function l(a){if("true"!=p){var e=o(t(a.target).parent());"rated"===u[e].state&&!f.allowChange,u[e].state="hover",t(a.target).parent().children(".raterater-rating-layer").first().css("display","none"),t(a.target).parent().children(".raterater-hover-layer").first().css("display","block")}}function c(a){var r=o(t(a.target).parent());"rated"!==u[r].state&&(u[r].state="inactive",e(),t(a.target).parent().children(".raterater-hover-layer").first().css("display","none"),t(a.target).parent().children(".raterater-rating-layer").first().css("display","block"))}function o(a){return t(a).attr("data-id")}function h(t,a){return t.find(".details-contacts-name").attr({id:"contact_name["+a+"]",name:"contact_name["+a+"]"}),t.find(".details-contacts-value").attr({id:"contact_value["+a+"]",name:"contact_value["+a+"]"}),t.removeClass("contact-extra-template"),t.addClass("details-contacts"),t.show(),t}function d(t,a){return t.find(".details-other-name").attr({id:"other_name["+a+"]",name:"other_name["+a+"]"}),t.find(".details-other-value").attr({id:"other_value["+a+"]",name:"other_value["+a+"]"}),t.removeClass("other-extra-template"),t.addClass("details-other"),t.show(),t}var u={},f={},v=null;t.fn.raterater=function(r){t.fn.raterater.defaults={submitFunction:"submitRating",allowChange:!1,starWidth:20,spaceWidth:5,numStars:5},f=t.extend({},t.fn.raterater.defaults,r),f.width=f.numStars*(f.starWidth+f.spaceWidth),f.starAspect=.9226,v=this;t("#rating-star").val();return a(),e(),this};var p=t("input.rating-is-front").val();t(".ratebox").raterater({submitFunction:"rateAlert",allowChange:!0,starWidth:"false"==p?20:13,spaceWidth:5,numStars:5}),t(".rate-manual-input").on("change",function(a){a.preventDefault(),t(this).parent().prev().find(".ratebox").attr("data-rating",t(this).val()),e()}),t(".add_custom_contact").on("click",function(a){a.preventDefault();var e=t(".details-contacts-last-number").val(),r=t(".contact-extra-template").clone(!0),n=h(r,e);t(".contact-extra-description").before(n),t(".details-contacts-last-number").val(parseInt(e)+1)}),t(".remove_custom_other, .remove_custom_contact").on("click",function(a){a.preventDefault(),t(this).parent().parent().remove()}),t(".add_custom_other").on("click",function(a){a.preventDefault();var e=t(".details-other-last-number").val(),r=t(".other-extra-template").clone(!0),n=d(r,e);t(".other-extra-description").before(n),t(".details-other-last-number").val(parseInt(e)+1)})});